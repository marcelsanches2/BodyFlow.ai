# ConfiguraÃ§Ã£o do Telegram para o BodyFlow Backend

## ðŸ“± Como configurar o Telegram Bot:

### 1. Criar um Bot no Telegram:
1. Abra o Telegram e procure por @BotFather
2. Envie `/newbot`
3. Escolha um nome para o bot (ex: "BodyFlow Assistant")
4. Escolha um username (ex: "bodyflow_assistant_bot")
5. Copie o token fornecido

### 2. Configurar as variÃ¡veis de ambiente:

Adicione estas linhas ao seu arquivo .env:

```bash
# Telegram Configuration
TELEGRAM_BOT_TOKEN=SEU_TOKEN_AQUI
TELEGRAM_WEBHOOK_URL=https://seu-dominio.com/telegram/

# Channel Configuration
ACTIVE_CHANNEL=telegram
```

### 3. Configurar o webhook:

ApÃ³s iniciar o servidor, configure o webhook:

```bash
curl -X POST "http://localhost:8000/telegram/setup-webhook" \
  -H "Content-Type: application/json" \
  -d '{"webhook_url": "https://seu-dominio.com/telegram/"}'
```

### 4. Testar o bot:

1. Procure pelo seu bot no Telegram
2. Envie `/start`
3. Teste enviando "treino" ou "dieta"

## ðŸ”„ Alternando entre canais:

Para voltar ao WhatsApp:
```bash
ACTIVE_CHANNEL=whatsapp
```

Para usar o Telegram:
```bash
ACTIVE_CHANNEL=telegram
```

## ðŸ“‹ Endpoints disponÃ­veis:

- `GET /telegram/` - Status do canal Telegram
- `POST /telegram/` - Webhook principal
- `POST /telegram/setup-webhook` - Configurar webhook
- `GET /telegram/webhook-info` - InformaÃ§Ãµes do webhook

## ðŸŽ¯ Vantagens do Telegram:

1. **Sem limitaÃ§Ãµes de sandbox** - Funciona imediatamente
2. **API mais simples** - Menos complexidade que Twilio
3. **Melhor para testes** - Resposta rÃ¡pida
4. **Mesma lÃ³gica** - Todos os agentes funcionam igual
5. **FÃ¡cil alternÃ¢ncia** - Volta para WhatsApp quando resolver
